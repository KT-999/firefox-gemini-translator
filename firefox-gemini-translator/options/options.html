<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Gemini Translate Settings</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <div class="wrapper">
    <nav class="tab-nav">
      <button id="tab-translate" class="tab-btn active" type="button" data-i18n="tabTranslate"></button>
      <button id="tab-settings" class="tab-btn" type="button" data-i18n="tabSettings"></button>
      <button id="tab-history" class="tab-btn" type="button" data-i18n="tabHistory"></button>
    </nav>

    <main class="content">
      <!-- 翻譯頁籤 -->
      <div id="view-translate" class="tab-view active">
        <div class="translate-container">
          <div class="selectors-container">
            <div class="popup-selector-item">
              <label for="popupTargetLang" data-i18n="targetLanguage"></label>
              <select id="popupTargetLang">
                <option value="繁體中文" data-i18n="langZhTw"></option>
                <option value="簡體中文" data-i18n="langZhCn"></option>
                <option value="英文" data-i18n="langEn"></option>
                <option value="日文" data-i18n="langJa"></option>
                <option value="韓文" data-i18n="langKo"></option>
                <option value="法文" data-i18n="langFr"></option>
                <option value="德文" data-i18n="langDe"></option>
                <option value="西班牙文" data-i18n="langEs"></option>
                <option value="俄文" data-i18n="langRu"></option>
                <option value="印地文" data-i18n="langHi"></option>
                <option value="阿拉伯文" data-i18n="langAr"></option>
                <option value="孟加拉文" data-i18n="langBn"></option>
                <option value="葡萄牙文" data-i18n="langPt"></option>
                <option value="印尼文" data-i18n="langId"></option>
              </select>
            </div>
            <div class="popup-selector-item">
              <label for="popupEngineSelect" data-i18n="translationEngineLabel"></label>
              <select id="popupEngineSelect">
                <option value="google" data-i18n="engineOptionGoogle"></option>
                <option value="gemini-2.0-flash" data-i18n="engineOptionGeminiFlash"></option>
              </select>
            </div>
          </div>

          <h3 class="input-title" data-i18n="originalTextTitle"></h3>
          <textarea id="translateInput" rows="4" data-i18n-placeholder="translateInputPlaceholder"></textarea>
          <button id="translateBtn" class="translate-btn" type="button" data-i18n="translateButton"></button>

          <div class="result-card">
            <div class="result-header">
              <h3><span data-i18n="translationResult"></span></h3>
              <span id="sourceLangDisplay"></span>
              <span id="translationSourceDisplay" class="translation-source-display"></span>
              <div class="header-buttons">
                <button id="popupListenOriginalBtn" class="listen-btn hidden" type="button"
                  data-i18n-title="listenOriginalButtonTooltip">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                </button>
                <button id="popupListenBtn" class="listen-btn hidden" type="button"
                  data-i18n-title="listenButtonTooltip">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                  </svg>
                </button>
              </div>
            </div>
            <div id="translateResult"></div>
          </div>
        </div>
      </div>

      <!-- 設定頁籤 -->
      <div id="view-settings" class="tab-view">
        <div class="card">
          <form id="settingsForm">
            <div class="settings-header">
              <h2 data-i18n="coreSettings"></h2>
              <span id="version-display"></span>
            </div>
            <label for="apiKey">
              <span data-i18n="geminiApiKey"></span>
              <span id="apiKeyStatus" class="key-status"></span>
            </label>
            <div class="password-wrapper">
              <input type="password" id="apiKey" data-i18n-placeholder="apiKeyPlaceholder">
              <button type="button" id="toggleApiKey" class="toggle-vis" data-i18n-title="apiKeyToggle">
                <svg class="icon-eye" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                  fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                  <circle cx="12" cy="12" r="3" />
                </svg>
                <svg class="icon-eye-off hidden" xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24" />
                  <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68" />
                  <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61" />
                  <line x1="2" x2="22" y1="2" y2="22" />
                </svg>
              </button>
            </div>

            <div class="setting-item-column">
              <label for="contextMenuEngineSelect" data-i18n="contextMenuEngineLabel"></label>
              <select id="contextMenuEngineSelect">
                <option value="smart" data-i18n="contextMenuEngineSmart"></option>
                <option value="google" data-i18n="contextMenuEngineGoogle"></option>
                <option value="gemini-2.0-flash" data-i18n="contextMenuEngineGeminiFlash"></option>
              </select>
            </div>

            <div id="geminiModelContainer" class="setting-item-column">
              <label for="geminiModelSelect" data-i18n="geminiModelLabel"></label>
              <select id="geminiModelSelect">
                <option value="gemini-2.0-flash" data-i18n="geminiModelFlash"></option>
              </select>
              <p class="description" data-i18n="geminiModelDescription"></p>
            </div>

            <label for="lang" data-i18n="targetLanguageSettings"></label>
            <select id="lang">
              <option value="繁體中文" data-i18n="langZhTw"></option>
              <option value="簡體中文" data-i18n="langZhCn"></option>
              <option value="英文" data-i18n="langEn"></option>
              <option value="日文" data-i18n="langJa"></option>
              <option value="韓文" data-i18n="langKo"></option>
              <option value="法文" data-i18n="langFr"></option>
              <option value="德文" data-i18n="langDe"></option>
              <option value="西班牙文" data-i18n="langEs"></option>
              <option value="俄文" data-i18n="langRu"></option>
              <option value="印地文" data-i18n="langHi"></option>
              <option value="阿拉伯文" data-i18n="langAr"></option>
              <option value="孟加拉文" data-i18n="langBn"></option>
              <option value="葡萄牙文" data-i18n="langPt"></option>
              <option value="印尼文" data-i18n="langId"></option>
            </select>

            <h2 data-i18n="personalization"></h2>
            <label for="uiLang" data-i18n="uiLanguage"></label>
            <select id="uiLang">
              <option value="en" data-i18n="langUiEn"></option>
              <option value="zh_TW" data-i18n="langUiZhTw"></option>
              <option value="zh_CN" data-i18n="langUiZhCn"></option>
              <option value="ja" data-i18n="langUiJa"></option>
              <option value="ko" data-i18n="langUiKo"></option>
              <option value="fr" data-i18n="langUiFr"></option>
              <option value="de" data-i18n="langUiDe"></option>
              <option value="es" data-i18n="langUiEs"></option>
              <option value="ru" data-i18n="langUiRu"></option>
              <option value="hi" data-i18n="langUiHi"></option>
              <option value="ar" data-i18n="langUiAr"></option>
              <option value="bn" data-i18n="langUiBn"></option>
              <option value="pt" data-i18n="langUiPt"></option>
              <option value="id" data-i18n="langUiId"></option>
            </select>
            <label for="theme" data-i18n="theme"></label>
            <select id="theme">
              <option value="auto" data-i18n="themeAuto"></option>
              <option value="light" data-i18n="themeLight"></option>
              <option value="dark" data-i18n="themeDark"></option>
            </select>
            <label for="maxHistorySize" data-i18n="maxHistory"></label>
            <input type="number" id="maxHistorySize" min="0" max="100" value="20">
            <button type="button" id="saveBtn" data-i18n="saveButton"></button>
          </form>
        </div>
      </div>

      <div id="view-history" class="tab-view">
        <div class="history-header">
          <h2 data-i18n="historyList"></h2>
          <button id="clearHistoryBtn" class="clear-btn" type="button" data-i18n="clearHistoryButton"></button>
        </div>
        <div id="historyContainer"></div>
      </div>
    </main>
  </div>

  <div id="status"></div>
  <script src="options.js" type="module"></script>
</body>

</html>
